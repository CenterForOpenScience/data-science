
This subfolder houses the R scripts needed to produce the Quarterly report on user generation pathways.

The main raw data for this report is generated by [this SQL script](https://github.com/CenterForOpenScience/data-science/blob/master/SQL_queries/user_generation_paths.sql).
The data and data dictionaries can be found [here](https://osf.io/5hw9s/) (if you have the proper credentials)

To run this report:
* Make sure that you have first generated this quarters data using the SQL script above.
* Make sure you have your osf authentication token set up an saved in your Renviron file so osfr will work
* Open the .Rproj file in the ‘Quarterly_Reports’ folder and then open the ‘data_processing.R’ file in this subfolder in the newly opened RStudio project
* After launching the .Rproj for the first time, use `renv::restore()` to get the local project library on your machine. If you have already done this step before running the product_downloads scripts in the same R session, you do not have to do it again.
* Run the whole script, which will pull in the relevant data, clean it, render the Rmd file to the html report, and then upload that to the OSF project for distribution.

Note:
* User tag generation was revamped in May 2020.
* There is currently a bug which appears to be affecting accurate tagging of user sign-ups related to instituions. The bug has been reported, but until it is fixed, numbers should be taken with a grain of salt and in a more relative fashion (affects ~200 - 300 users per quarter, depending on how many institutional signups there are)
* User tags do not currently exist for collections or branded registries, bu there is a ticket for the work. 
